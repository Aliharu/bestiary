<h3>
  Weapon Name
</h3>
<div class="combat-stat-shell">
  <div>
    <div class="square-shell">
      <img *ngIf="getWeaponType() === 'm'" class="combat-image" src="../../../../assets/square.png" alt="combat square">
      <img *ngIf="getWeaponType() === 'r'" class="combat-image" src="../../../../assets/rangedsquare.png"
        alt="combat square">
      <p class="spd">{{recovery}}</p>
      <p class="atk">{{getModifiedStats('attack')}}</p>
      <p class="init">{{getModifiedStats('initiative')}}</p>
      <div class="def">
        <p>{{getModifiedStats('all')}}</p>
        <p class="shield_dr">{{getCover()}}</p>
      </div>
      <p class="fatigue">{{damageType}}</p>
      <div class="dr">
        <p>{{getBaseDR()}}</p>
        <p class="shield_dr"><img class="shield-dr" src="./assets/shield.svg" alt="shield dr" width="15"
            height="15">{{getParryDR()}}</p>
      </div>
      <div class="measure">
        <p *ngIf="getWeaponType() === 'm'">{{getModifiedStats('measure')}}</p>
        <p *ngIf="getWeaponType() === 'r'">{{getModifiedStatsMinZero('rangedistance')}}</p>
      </div>
      <p class="damage">{{damageString}}</p>
      <p *ngIf="getWeaponType() === 'm'" class="parry">{{getModifiedStatsMinZero('weaponsmallpiercing')}}</p>
    </div>

    <mat-form-field>
      <mat-label>Range Type</mat-label>
      <mat-select [value]="getWeaponType()" (selectionChange)="captureSelect($event, 'weapontype')">
        <mat-option value="m">
          Melee
        </mat-option>
        <mat-option value="r">
          Ranged
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <table>
      <thead>
        <tr>
          <th>

          </th>
          <th colspan="6">
            Scaling
          </th>
        </tr>
        <tr>
          <td> </td>
          <td>Major Strength</td>
          <td>Minor Strength</td>
          <td>None</td>
          <td>Minor Weakness</td>
          <td>Major Weakness</td>
          <td>None & Weak</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th></th>
          <th colspan="6">
            Damage
          </th>
        </tr>
        <tr *ngFor="let stat of attackStats">
          <td>{{stat.label}} <i *ngIf="stat.tooltip" class="fas fa-info-circle icon-small blue"
              matTooltip="{{stat.tooltip}}" matTooltipClass="my-tooltip"></i>
          </td>
          <td>
            <mat-checkbox
              [ngClass]="roleInfo.damage === 'majSt' && roleInfo.preferreddamage === stat.stat ? 'checkmark-role-background' : ''"
              (change)="checkAttackStat(stat.stat, 'majSt', $event)"
              [checked]="!combatStats.piercingweapons && !combatStats.crushingweapons && !combatStats.slashingweapons ? roleInfo.damage === 'majSt' && roleInfo.preferreddamage === stat.stat : combatStats[stat.stat] === 'majSt'"
              matTooltip="This is the preferred damage and scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.damage !== 'majSt' || roleInfo.preferreddamage !== stat.stat ">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox
              [ngClass]="roleInfo.damage === 'minSt' && roleInfo.preferreddamage === stat.stat  ? 'checkmark-role-background' : ''"
              (change)="checkAttackStat(stat.stat, 'minSt', $event)"
              [checked]="!combatStats.piercingweapons && !combatStats.crushingweapons && !combatStats.slashingweapons ? roleInfo.damage === 'minSt' && roleInfo.preferreddamage === stat.stat : combatStats[stat.stat] === 'minSt'"
              matTooltip="This is the preferred damage and scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.damage !== 'minSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox
              [ngClass]="!roleInfo.damage && roleInfo.preferreddamage === stat.stat ? 'checkmark-role-background' : ''"
              (change)="checkAttackStat(stat.stat, 'none', $event)"
              matTooltip="This is the preferred damage and scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.damage"
              [checked]="(!combatStats.piercingweapons && !combatStats.crushingweapons && !combatStats.slashingweapons && !roleInfo.damage) || (combatStats[stat.stat] === 'none')">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox
              [ngClass]="roleInfo.damage === 'minWk' && roleInfo.preferreddamage === stat.stat  ? 'checkmark-role-background' : ''"
              (change)="checkAttackStat(stat.stat, 'minWk', $event)"
              [checked]="!combatStats.piercingweapons && !combatStats.crushingweapons && !combatStats.slashingweapons ? roleInfo.damage === 'minWk' && roleInfo.preferreddamage === stat.stat : combatStats[stat.stat] === 'minWk'"
              matTooltip="This is the preferred damage and scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.damage !== 'minWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox
              [ngClass]="roleInfo.damage === 'majWk' && roleInfo.preferreddamage === stat.stat  ? 'checkmark-role-background' : ''"
              (change)="checkAttackStat(stat.stat, 'majWk', $event)"
              [checked]="!combatStats.piercingweapons && !combatStats.crushingweapons && !combatStats.slashingweapons ? roleInfo.damage === 'majWk' && roleInfo.preferreddamage === stat.stat : combatStats[stat.stat] === 'majWk'"
              matTooltip="This is the preferred damage and scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.damage !== 'majWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox
              [ngClass]="roleInfo.damage === 'noneWk' && roleInfo.preferreddamage === stat.stat  ? 'checkmark-role-background' : ''"
              (change)="checkAttackStat(stat.stat, 'noneWk', $event)"
              [checked]="!combatStats.piercingweapons && !combatStats.crushingweapons && !combatStats.slashingweapons ? roleInfo.damage === 'noneWk' && roleInfo.preferreddamage === stat.stat : combatStats[stat.stat] === 'noneWk'"
              matTooltip="This is the preferred damage and scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.damage !== 'noneWk'"></mat-checkbox>
          </td>
        </tr>

        <tr>
          <th></th>
          <th colspan="6">
            Defenses
          </th>
        </tr>
        <tr>
          <td>All <i class="fas fa-info-circle icon-small blue" matTooltip="Defense" matTooltipClass="my-tooltip"></i>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.all === 'majSt' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat('all', 'majSt', $event)"
              [checked]="!combatStats.all ? roleInfo.all === 'majSt' : combatStats.all === 'majSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.all !== 'majSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.all === 'minSt' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat('all', 'minSt', $event)"
              [checked]="!combatStats.all ? roleInfo.all === 'minSt' : combatStats.all === 'minSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.all !== 'minSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="!roleInfo.all ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat('all', 'none', $event)"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.all"
              [checked]="(!combatStats.all && !roleInfo.all) || combatStats.all === 'none'">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.all === 'minWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat('all', 'minWk', $event)"
              [checked]="!combatStats.all ? roleInfo.all === 'minWk' : combatStats.all === 'minWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.all !== 'minWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.all === 'majWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat('all', 'majWk', $event)"
              [checked]="!combatStats.all ? roleInfo.all === 'majWk' : combatStats.all === 'majWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.all !== 'majWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.all === 'noneWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat('all', 'noneWk', $event)"
              [checked]="!combatStats.all ? roleInfo.all === 'noneWk' : combatStats.all === 'noneWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.all !== 'noneWk'"></mat-checkbox>
          </td>
        </tr>
        <tr>
          <td>Large Weapons <i class="fas fa-info-circle icon-small blue" matTooltip="Vitality" matTooltipClass="my-tooltip"></i>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.largeweapons === 'majSt' ? 'checkmark-role-background' : ''"
              (change)="checkPhysicalStat('largeweapons', 'majSt', $event)"
              [checked]="!physical.largeweapons ? roleInfo.largeweapons === 'majSt' : physical.largeweapons === 'majSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.largeweapons !== 'majSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.largeweapons === 'minSt' ? 'checkmark-role-background' : ''"
              (change)="checkPhysicalStat('largeweapons', 'minSt', $event)"
              [checked]="!physical.largeweapons ? roleInfo.largeweapons === 'minSt' : physical.largeweapons === 'minSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.largeweapons !== 'minSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="!roleInfo.largeweapons ? 'checkmark-role-background' : ''"
              (change)="checkPhysicalStat('largeweapons', 'none', $event)"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.largeweapons"
              [checked]="(!physical.largeweapons && !roleInfo.largeweapons) || physical.largeweapons === 'none'">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.largeweapons === 'minWk' ? 'checkmark-role-background' : ''"
              (change)="checkPhysicalStat('largeweapons', 'minWk', $event)"
              [checked]="!physical.largeweapons ? roleInfo.largeweapons === 'minWk' : physical.largeweapons === 'minWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.largeweapons !== 'minWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.largeweapons === 'majWk' ? 'checkmark-role-background' : ''"
              (change)="checkPhysicalStat('largeweapons', 'majWk', $event)"
              [checked]="!physical.largeweapons ? roleInfo.largeweapons === 'majWk' : physical.largeweapons === 'majWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.largeweapons !== 'majWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo.largeweapons === 'noneWk' ? 'checkmark-role-background' : ''"
              (change)="checkPhysicalStat('largeweapons', 'noneWk', $event)"
              [checked]="!physical.largeweapons ? roleInfo.largeweapons === 'noneWk' : physical.largeweapons === 'noneWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo.largeweapons !== 'noneWk'"></mat-checkbox>
          </td>
        </tr>
        <tr *ngFor="let stat of defenseStats">
          <td [ngClass]="stat.label.includes('& ') || stat.label === 'Flanks' ? 'justify-right' : ''">{{stat.label}} <i
              *ngIf="stat.tooltip" class="fas fa-info-circle icon-small blue" matTooltip="{{stat.tooltip}}"
              matTooltipClass="my-tooltip"></i>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'majSt' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'majSt', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'majSt' : combatStats[stat.stat] === 'majSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'majSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'minSt' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'minSt', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'minSt' : combatStats[stat.stat] === 'minSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'minSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="!roleInfo[stat.stat] ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'none', $event)"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat]"
              [checked]="(!combatStats[stat.stat] && !roleInfo[stat.stat]) || combatStats[stat.stat] === 'none'">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'minWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'minWk', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'minWk' : combatStats[stat.stat] === 'minWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'minWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'majWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'majWk', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'majWk' : combatStats[stat.stat] === 'majWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'majWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'noneWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'noneWk', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'noneWk' : combatStats[stat.stat] === 'noneWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'noneWk'"></mat-checkbox>
          </td>
        </tr>

        <tr>
          <th></th>
          <th colspan="6">
            Other
          </th>
        </tr>
        <tr *ngFor="let stat of otherStats">
          <td>{{stat.label}}</td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'majSt' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'majSt', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'majSt' : combatStats[stat.stat] === 'majSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'majSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'minSt' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'minSt', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'minSt' : combatStats[stat.stat] === 'minSt'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'minSt'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="!roleInfo[stat.stat] ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'none', $event)"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat]"
              [checked]="(!combatStats[stat.stat] && !roleInfo[stat.stat]) || combatStats[stat.stat] === 'none'">
            </mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'minWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'minWk', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'minWk' : combatStats[stat.stat] === 'minWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'minWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'majWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'majWk', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'majWk' : combatStats[stat.stat] === 'majWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'majWk'"></mat-checkbox>
          </td>
          <td>
            <mat-checkbox [ngClass]="roleInfo[stat.stat] === 'noneWk' ? 'checkmark-role-background' : ''"
              (change)="checkOtherStat(stat.stat, 'noneWk', $event)"
              [checked]="!combatStats[stat.stat] ? roleInfo[stat.stat] === 'noneWk' : combatStats[stat.stat] === 'noneWk'"
              matTooltip="This is the preferred scale for their Role" matTooltipClass="my-tooltip"
              [matTooltipDisabled]="roleInfo[stat.stat] !== 'noneWk'"></mat-checkbox>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>